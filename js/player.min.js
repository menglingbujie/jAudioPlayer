!function(o){function a(){n._playBtn.on("click",t.playAndPause),n._stopBtn.on("click",t.stopAudio)}function e(){$("#playerId").jPlayer({cssSelectorAncestor:"#playerContainerId",ready:t.init,swfPath:"../swf",supplied:"mp3,m4a,oga",wmode:"window",useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0,preload:"auto",volume:.3,cssSelector:{videoPlay:".playerId",play:".play",stop:".stop",playBar:".process",seekBar:".seekbar",mute:".mute",volumeMax:".voluemax",currentTime:".btime",duration:".duration",title:".title",volumeBar:".volumebar_processbg",volumeBarValue:".volumebar_process"},progress:t.onLoadProcess,loadstart:t.onLoadStart,loadeddata:t.onLoadedData,loadedmetadata:t.onLoadedMetadata,ended:t.onPlayEnded,seeking:t.onSeeking,error:t.onLoadError,timeupdate:t.onTimeupdate,pause:t.onPause})}!o&&o.Player&&(o={Player:{}});var n={_playBtn:$(".play"),_stopBtn:$(".stop"),_progress:$(".loading")},t={stopAudio:function(){n._progress.width(0),n._playBtn.removeClass("pause")},autoplay:function(){$("#playerId").jPlayer("play"),this.playAndPause()},init:function(o){$(this).jPlayer("setMedia",{title:"Web Audio",m4a:"http://jplayer.org/audio/m4a/Miaow-07-Bubble.m4a",oga:"http://jplayer.org/audio/ogg/Miaow-07-Bubble.ogg"}).jPlayer("onProgressChange",function(o,a,e){console.log("===progress==",o,"===",e)}).jPlayer("getData",function(){console.log("=====getData====")})},playAndPause:function(){n._playBtn.toggleClass("pause")},onLoadProcess:function(o){console.log("=====load process=====");var a,e=o.currentTarget;if(a="audo"===e.tagName?e:$(e).find("audio")[0]){var t=a.buffered;if(t.length>0){var l=Math.floor(100*t.end(0)/a.duration);n._progress.width(l+"%")}}},onLoadStart:function(){console.log("=====loadstart")},onLoadedMetadata:function(){console.log("=====loadedmetadata")},onPlayEnded:function(){console.log("=====play ended==="),n._progress.width(0)},onLoadError:function(o){console.log("=====load error",o.jPlayer.error.message)},onSeeking:function(){console.log("=====seeking===")},onLoadedData:function(){console.log("=====loadeddata")},onTimeupdate:function(o){},onPause:function(){console.log("====pause")}};o.Player={init:function(){e(),a()}}}(this);